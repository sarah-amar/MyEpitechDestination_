{"remainingRequest":"/home/andrea/Documents/MyEpitechDestination/Frontend/Frontend/myepitechdestination-front/node_modules/babel-loader/lib/index.js!/home/andrea/Documents/MyEpitechDestination/Frontend/Frontend/myepitechdestination-front/node_modules/eslint-loader/index.js??ref--13-0!/home/andrea/Documents/MyEpitechDestination/Frontend/Frontend/myepitechdestination-front/src/router.js","dependencies":[{"path":"/home/andrea/Documents/MyEpitechDestination/Frontend/Frontend/myepitechdestination-front/src/router.js","mtime":1622821305604},{"path":"/home/andrea/Documents/MyEpitechDestination/Frontend/Frontend/myepitechdestination-front/node_modules/cache-loader/dist/cjs.js","mtime":1622583802845},{"path":"/home/andrea/Documents/MyEpitechDestination/Frontend/Frontend/myepitechdestination-front/node_modules/babel-loader/lib/index.js","mtime":1622583780633},{"path":"/home/andrea/Documents/MyEpitechDestination/Frontend/Frontend/myepitechdestination-front/node_modules/eslint-loader/index.js","mtime":1622583959063}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCB7IGNyZWF0ZVdlYkhpc3RvcnksIGNyZWF0ZVJvdXRlciB9IGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgSG9tZSBmcm9tICIuL2NvbXBvbmVudHMvSG9tZS52dWUiOwppbXBvcnQgTG9naW4gZnJvbSAiLi9jb21wb25lbnRzL0xvZ2luLnZ1ZSI7CmltcG9ydCBSZWdpc3RlciBmcm9tICIuL2NvbXBvbmVudHMvUmVnaXN0ZXIudnVlIjsKaW1wb3J0IENvbnRhY3QgZnJvbSAiLi9jb21wb25lbnRzL0NvbnRhY3QudnVlIjsKaW1wb3J0IERlc3RpbmF0aW9uIGZyb20gIi4vY29tcG9uZW50cy9EZXN0aW5hdGlvbi52dWUiOwppbXBvcnQgQXJ0aWNsZSBmcm9tICIuL2NvbXBvbmVudHMvQXJ0aWNsZS52dWUiOwoKdmFyIFByb2ZpbGUgPSBmdW5jdGlvbiBQcm9maWxlKCkgewogIHJldHVybiBpbXBvcnQoIi4vY29tcG9uZW50cy9Qcm9maWxlLnZ1ZSIpOwp9OwoKdmFyIEJvYXJkQWRtaW4gPSBmdW5jdGlvbiBCb2FyZEFkbWluKCkgewogIHJldHVybiBpbXBvcnQoIi4vY29tcG9uZW50cy9Cb2FyZEFkbWluLnZ1ZSIpOwp9OwoKdmFyIEJvYXJkVXNlciA9IGZ1bmN0aW9uIEJvYXJkVXNlcigpIHsKICByZXR1cm4gaW1wb3J0KCIuL2NvbXBvbmVudHMvQm9hcmRVc2VyLnZ1ZSIpOwp9OwoKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogIi8iLAogIG5hbWU6ICJob21lIiwKICBjb21wb25lbnQ6IEhvbWUKfSwgewogIHBhdGg6ICIvaG9tZSIsCiAgY29tcG9uZW50OiBIb21lCn0sIHsKICBwYXRoOiAiL2xvZ2luIiwKICBjb21wb25lbnQ6IExvZ2luCn0sIHsKICBwYXRoOiAiL3JlZ2lzdGVyIiwKICBjb21wb25lbnQ6IFJlZ2lzdGVyCn0sIHsKICBwYXRoOiAiL2NvbnRhY3QiLAogIGNvbXBvbmVudDogQ29udGFjdAp9LCB7CiAgcGF0aDogIi9kZXN0aW5hdGlvbiIsCiAgY29tcG9uZW50OiBEZXN0aW5hdGlvbgp9LCB7CiAgcGF0aDogIi9hcnRpY2xlLzppZCIsCiAgY29tcG9uZW50OiBBcnRpY2xlCn0sIHsKICBwYXRoOiAiL3Byb2ZpbGUiLAogIG5hbWU6ICJwcm9maWxlIiwKICBjb21wb25lbnQ6IFByb2ZpbGUKfSwgewogIHBhdGg6ICIvYWRtaW4iLAogIG5hbWU6ICJhZG1pbiIsCiAgY29tcG9uZW50OiBCb2FyZEFkbWluCn0sIHsKICBwYXRoOiAiL3VzZXIiLAogIG5hbWU6ICJ1c2VyIiwKICBjb21wb25lbnQ6IEJvYXJkVXNlcgp9XTsKdmFyIHJvdXRlciA9IGNyZWF0ZVJvdXRlcih7CiAgaGlzdG9yeTogY3JlYXRlV2ViSGlzdG9yeSgpLAogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICB2YXIgcHVibGljUGFnZXMgPSBbJy9sb2dpbicsICcvcmVnaXN0ZXInLCAnL2hvbWUnXTsKICB2YXIgYXV0aFJlcXVpcmVkID0gIXB1YmxpY1BhZ2VzLmluY2x1ZGVzKHRvLnBhdGgpOwogIHZhciBsb2dnZWRJbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJyk7CgogIGlmIChhdXRoUmVxdWlyZWQgJiYgIWxvZ2dlZEluKSB7CiAgICBuZXh0KCcvbG9naW4nKTsKICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/home/andrea/Documents/MyEpitechDestination/Frontend/Frontend/myepitechdestination-front/src/router.js"],"names":["createWebHistory","createRouter","Home","Login","Register","Contact","Destination","Article","Profile","BoardAdmin","BoardUser","routes","path","name","component","router","history","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","localStorage","getItem"],"mappings":";;;;AAAA,SAASA,gBAAT,EAA2BC,YAA3B,QAA+C,YAA/C;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AACA,OAAOC,OAAP,MAAoB,0BAApB;;AAGA,IAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA,SAAM,OAAO,0BAAP,CAAN;AAAA,CAAhB;;AACA,IAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA,SAAM,OAAO,6BAAP,CAAN;AAAA,CAAnB;;AACA,IAAMC,SAAS,GAAG,SAAZA,SAAY;AAAA,SAAM,OAAO,4BAAP,CAAN;AAAA,CAAlB;;AAEA,IAAMC,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEZ;AAHb,CADa,EAOb;AACEU,EAAAA,IAAI,EAAE,OADR;AAEEE,EAAAA,SAAS,EAAEZ;AAFb,CAPa,EAYb;AACEU,EAAAA,IAAI,EAAE,QADR;AAEEE,EAAAA,SAAS,EAAEX;AAFb,CAZa,EAgBb;AACES,EAAAA,IAAI,EAAE,WADR;AAEEE,EAAAA,SAAS,EAAEV;AAFb,CAhBa,EAoBb;AACEQ,EAAAA,IAAI,EAAE,UADR;AAEEE,EAAAA,SAAS,EAAET;AAFb,CApBa,EAwBb;AACEO,EAAAA,IAAI,EAAE,cADR;AAEEE,EAAAA,SAAS,EAAER;AAFb,CAxBa,EA4Bb;AACEM,EAAAA,IAAI,EAAE,cADR;AAEEE,EAAAA,SAAS,EAAEP;AAFb,CA5Ba,EAgCb;AACEK,EAAAA,IAAI,EAAE,UADR;AAEEC,EAAAA,IAAI,EAAE,SAFR;AAGEC,EAAAA,SAAS,EAAEN;AAHb,CAhCa,EAqCb;AACEI,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAEL;AAHb,CArCa,EA0Cb;AACEG,EAAAA,IAAI,EAAE,OADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAEJ;AAHb,CA1Ca,CAAf;AAiDA,IAAMK,MAAM,GAAGd,YAAY,CAAC;AAC1Be,EAAAA,OAAO,EAAEhB,gBAAgB,EADC;AAE1BW,EAAAA,MAAM,EAANA;AAF0B,CAAD,CAA3B;AAIAI,MAAM,CAACE,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAMC,WAAW,GAAG,CAAC,QAAD,EAAW,WAAX,EAAwB,OAAxB,CAApB;AACA,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAZ,CAAqBL,EAAE,CAACN,IAAxB,CAAtB;AACA,MAAMY,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAjB;;AAEA,MAAIJ,YAAY,IAAI,CAACE,QAArB,EAA+B;AAC7BJ,IAAAA,IAAI,CAAC,QAAD,CAAJ;AACD,GAFD,MAEO;AACLA,IAAAA,IAAI;AACL;AACF,CAVH;AAYA,eAAeL,MAAf","sourcesContent":["import { createWebHistory, createRouter } from \"vue-router\";\r\nimport Home from \"./components/Home.vue\";\r\nimport Login from \"./components/Login.vue\";\r\nimport Register from \"./components/Register.vue\";\r\nimport Contact from \"./components/Contact.vue\";\r\nimport Destination from \"./components/Destination.vue\";\r\nimport Article from \"./components/Article.vue\";\r\n\r\n\r\nconst Profile = () => import(\"./components/Profile.vue\")\r\nconst BoardAdmin = () => import(\"./components/BoardAdmin.vue\")\r\nconst BoardUser = () => import(\"./components/BoardUser.vue\")\r\n\r\nconst routes = [\r\n  {\r\n    path: \"/\",\r\n    name: \"home\",\r\n    component: Home,\r\n  },\r\n  \r\n  {\r\n    path: \"/home\",\r\n    component: Home,\r\n  },\r\n\r\n  {\r\n    path: \"/login\",\r\n    component: Login,\r\n  },\r\n  {\r\n    path: \"/register\",\r\n    component: Register,\r\n  },\r\n  {\r\n    path: \"/contact\",\r\n    component: Contact,\r\n  },\r\n  {\r\n    path: \"/destination\",\r\n    component: Destination,\r\n  },\r\n  {\r\n    path: \"/article/:id\",\r\n    component: Article,\r\n  },\r\n  {\r\n    path: \"/profile\",\r\n    name: \"profile\",\r\n    component: Profile,\r\n  },\r\n  {\r\n    path: \"/admin\",\r\n    name: \"admin\",\r\n    component: BoardAdmin,\r\n  },\r\n  {\r\n    path: \"/user\",\r\n    name: \"user\",\r\n    component: BoardUser,\r\n  },\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes,\r\n});\r\nrouter.beforeEach((to, from, next) => {\r\n    const publicPages = ['/login', '/register', '/home'];\r\n    const authRequired = !publicPages.includes(to.path);\r\n    const loggedIn = localStorage.getItem('user');\r\n  \r\n    if (authRequired && !loggedIn) {\r\n      next('/login');\r\n    } else {\r\n      next();\r\n    }\r\n  });\r\n\r\nexport default router;"]}]}